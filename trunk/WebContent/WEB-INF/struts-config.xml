<?xml version="1.0" encoding="ISO-8859-1" ?>

<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.3//EN"
          "http://struts.apache.org/dtds/struts-config_1_3.dtd">

<!--
     Squelette du fichier de configuration du controleur STRUTS
-->


<struts-config>


<!-- ================================================ Form Bean Definitions -->

    <form-beans>
			
			<form-bean name="formActionConnexion" type="struts.actionForm.ActionFormConnexion"></form-bean>
			<form-bean name="formActionRecherche" type="struts.actionForm.ActionFormRecherche"></form-bean>
			<form-bean name="formActionInscription" type="struts.actionForm.ActionFormInscription"></form-bean>
			<form-bean name="formActionModificationFilm" type="struts.actionForm.ActionFormModificationFilm"></form-bean>
    </form-beans>


<!-- ========================================= Global Exception Definitions -->

    <global-exceptions>

    </global-exceptions>


<!-- =========================================== Global Forward Definitions -->

    <global-forwards>
		<forward name="welcome" path="/welcome.do"/>
		<forward name="ErreurServeur" path="/vues/erreurserveur.jsp"></forward>
    </global-forwards>


<!-- =========================================== Action Mapping Definitions -->

    <action-mappings>
    	<action path="/connexion" type="org.springframework.web.struts.DelegatingActionProxy"
    		name="formActionConnexion" validate="true" input="/vues/index.jsp" >
    		<forward name="ConnexionEffectue" path="/vues/index.jsp" redirect="true"></forward>
    		<forward name="ConnexionImpossible" path="/vues/index.jsp" redirect="true"></forward>		
    	</action>
    	
    	<action path="/deconnexion" type="org.springframework.web.struts.DelegatingActionProxy"
    		scope="session" >
    		<forward name="DeconnexionEffectue" path="/vues/index.jsp" redirect="true"></forward>
    	</action>

    	<action path="/search" type="org.springframework.web.struts.DelegatingActionProxy"
    		scope="session" name="formActionRecherche" validate="true" input="/vues/erreurs.jsp" >
    		<forward name="VueListeRecherche" path="/vues/search.jsp" redirect="true" ></forward>
    	</action>
    	
    	<action path="/ListeDerniersFilms" type="org.springframework.web.struts.DelegatingActionProxy">
    		<forward name="VueListeDerniersFilms" path="/vues/index.jsp"></forward>
    	</action>
    	
    	<action path="/listeFilms" type="org.springframework.web.struts.DelegatingActionProxy">
    		<forward name="VueListeFilms" path="/vues/listefilms.jsp" redirect="true"></forward>
    	</action>
    	
    	<action path="/inscription" type="org.springframework.web.struts.DelegatingActionProxy"
    		name="formActionInscription" validate="true" input="/vues/erreurs.jsp" cancellable="true">
    		<forward name="InscriptionEffectue" path="/vues/index.jsp" redirect="true"></forward>
    		<forward name="InscriptionImpossible" path="/vues/erreurs.jsp" redirect="true"></forward>		
    	</action>
    	
    	
		<action path="/welcome" type="org.springframework.web.struts.DelegatingActionProxy">
			<forward name="welcome" path="/vues/index.jsp" redirect="true"></forward>
			<forward name="VueListeFilms" path="/vues/welcome.jsp" redirect="true"></forward>
		</action>
		
    	<action path="/lienmodifierfilm" type="org.springframework.web.struts.DelegatingActionProxy">
			<forward name="VueModificationFilm" path="/vues/modificationfilm.jsp" redirect="true"></forward>
		</action>
		
		<action path="/modifierfilm" type="org.springframework.web.struts.DelegatingActionProxy"
    		name="formActionModificationFilm" validate="true" input="/vues/erreurs.jsp" cancellable="true">
    		<forward name="ModificationFilmEffectue" path="/vues/index.jsp" redirect="true"></forward>
    		<forward name="ModificationFilmImpossible" path="/vues/erreurs.jsp" redirect="true"></forward>		
    	</action>
		
		<action path="/changerlangue">
			<forward name="VueChangerLangue" path="/vues/welcome.jsp" redirect="true"></forward>
		</action>
    	
    </action-mappings>



	<controller processorClass="org.springframework.web.struts.DelegatingRequestProcessor"/>

<!-- ======================================== Message Resources Definitions -->

    <message-resources parameter="MessageResources" />

	<plug-in className="org.springframework.web.struts.ContextLoaderPlugIn">
		<set-property property="contextConfigLocation" value="/WEB-INF/Beans.xml"/>
	</plug-in>
</struts-config>

